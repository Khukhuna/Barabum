<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title> Baraboom </title>
    <link rel="stylesheet" href="css/index.css">
     <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/howler/2.0.0/howler.js"></script>
    <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
    <script type="text/paperscript" canvas="main-layout">
        var keyData = {
          q: { sound: new Howl({ src: ['sounds/bubbles.mp3']}) },
          w: { sound: new Howl({ src: ['sounds/clay.mp3']}) },
          e: { sound: new Howl({ src: ['sounds/confetti.mp3']}) },
          r: { sound: new Howl({ src: ['sounds/corona.mp3']}) },
          t: { sound: new Howl({ src: ['sounds/dotted-spiral.mp3']}) },
          y: { sound: new Howl({ src: ['sounds/flash-1.mp3']}) },
          u: { sound: new Howl({ src: ['sounds/flash-2.mp3']}) },
          i: { sound: new Howl({ src: ['sounds/flash-3.mp3']}) },
          o: { sound: new Howl({ src: ['sounds/glimmer.mp3']}) },
          p: { sound: new Howl({ src: ['sounds/moon.mp3']}) },
          a: { sound: new Howl({ src: ['sounds/pinwheel.mp3']}) },
          s: { sound: new Howl({ src: ['sounds/piston-1.mp3']}) },
          d: { sound: new Howl({ src: ['sounds/piston-2.mp3']}) },
          f: { sound: new Howl({ src: ['sounds/prism-1.mp3']}) },
          g: { sound: new Howl({ src: ['sounds/prism-2.mp3']}) },
          h: { sound: new Howl({ src: ['sounds/prism-3.mp3']}) },
          j: { sound: new Howl({ src: ['sounds/splits.mp3']}) },
          k: { sound: new Howl({ src: ['sounds/squiggle.mp3']}) },
          l: { sound: new Howl({ src: ['sounds/strike.mp3']}) },
          z: { sound: new Howl({ src: ['sounds/suspension.mp3']}) },
          x: { sound: new Howl({ src: ['sounds/timer.mp3']}) },
          c: { sound: new Howl({ src: ['sounds/ufo.mp3']}) },
          v: { sound: new Howl({ src: ['sounds/veil.mp3']}) },
          b: { sound: new Howl({ src: ['sounds/wipe.mp3']}) },
          n: { sound: new Howl({ src: ['sounds/zig-zag.mp3']}) },
          m: { sound: new Howl({ src: ['sounds/moon.mp3']}) }
        }
      var circleCollection = [];

      function onKeyDown(event){
        var x = randomNum(0, $(window).width());
        var y = randomNum(0, $(window).height());
        var circle = Path.Circle(new Point(x, y), 400)
        circle.fillColor = getRandomColor();
        circleCollection.push(circle);
        keyData[event.key]['sound'].play();
      }

      function onFrame(event){
        for(var i=0; i<circleCollection.length; i++){
          var circle = circleCollection[i];
          if(circle.area < 1){
            circleCollection.splice(i, 1);
          }else{
            circle.scale(0.9);
          }
          circle.hue += 1;
        }
      }

      function randomNum(start, end){
        return Math.random() * (end - start) + start;
      }

      function getRandomColor() {
        var letters = '0123456789ABCDEF';
        var color = '#';
        for (var i = 0; i < 6; i++) {
          color += letters[Math.floor(Math.random() * 16)];
        }
        return color;
      }

    </script>
  </head>
  <body>
    <canvas id="main-layout" resize></canvas>

    <script type="text/JavaScript" src="js/lib/paper.min.js"></script>
  </body>
</html>
